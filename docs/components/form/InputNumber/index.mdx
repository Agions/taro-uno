---
category: 'form'
componentType: 'form'
englishTitle: 'InputNumber'
chineseTitle: '数字输入框'
name: 'InputNumber'
description: '用于输入数字的组件，支持数字格式化、范围限制、步进调节等功能。'
---

import { InputNumber } from '@taro-uno/ui';

## 功能介绍

InputNumber 组件是一个功能丰富的数字输入框组件，提供完整的数字输入和控制功能：

- 支持数字格式化（货币、百分比、小数等）
- 可配置最小值、最大值和步进值
- 支持显示增减控制器
- 多种尺寸和样式变体
- 内置表单验证功能
- 支持清除按钮和自动聚焦
- 支持前缀和后缀内容
- 无障碍访问支持

## 基本用法

### 基础数字输入框

```jsx
<InputNumber placeholder="请输入数字" />
```

### 带控制器的数字输入框

```jsx
<InputNumber controls placeholder="请输入数字" />
```

## 使用示例

### 1. 基础数字输入框

```jsx
<InputNumber placeholder="请输入数字" />
```

### 2. 带默认值的数字输入框

```jsx
<InputNumber defaultValue={10} placeholder="请输入数字" />
```

### 3. 带控制器的数字输入框

```jsx
<InputNumber controls placeholder="请输入数字" />
```

### 4. 限制范围的数字输入框

```jsx
<InputNumber min={0} max={100} step={5} placeholder="请输入0-100的数字" />
```

### 5. 不同尺寸的数字输入框

```jsx
<InputNumber size="sm" placeholder="小号尺寸" />
<InputNumber size="md" placeholder="中号尺寸" />
<InputNumber size="lg" placeholder="大号尺寸" />
```

### 6. 不同样式变体的数字输入框

```jsx
<InputNumber variant="outlined" placeholder="轮廓样式" />
<InputNumber variant="filled" placeholder="填充样式" />
<InputNumber variant="underlined" placeholder="下划线样式" />
```

### 7. 带小数精度的数字输入框

```jsx
<InputNumber precision={2} step={0.01} placeholder="保留两位小数" />
```

### 8. 带前缀和后缀的数字输入框

```jsx
<InputNumber prefix="¥" suffix="元" placeholder="请输入金额" />
<InputNumber prefix="" suffix="%" placeholder="请输入百分比" />
```

### 9. 带清除按钮的数字输入框

```jsx
<InputNumber clearable placeholder="请输入数字" />
```

### 10. 禁用和只读的数字输入框

```jsx
<InputNumber disabled value={10} placeholder="禁用状态" />
<InputNumber readonly value={20} placeholder="只读状态" />
```

## API

### InputNumberProps

| 参数 | 类型 | 默认值 | 说明 |
| --- | --- | --- | --- |
| value | number \| null | - | 数字值（受控模式） |
| defaultValue | number \| null | null | 默认值（非受控模式） |
| placeholder | string | - | 占位符 |
| size | InputNumberSize | 'md' | 数字输入框尺寸，可选值：'sm' \| 'md' \| 'lg' |
| variant | InputNumberVariant | 'outlined' | 数字输入框变体，可选值：'outlined' \| 'filled' \| 'underlined' |
| status | InputNumberStatus | 'normal' | 数字输入框状态，可选值：'normal' \| 'error' \| 'warning' \| 'success' \| 'disabled' |
| disabled | boolean | false | 是否禁用 |
| readonly | boolean | false | 是否只读 |
| min | number | - | 最小值 |
| max | number | - | 最大值 |
| step | number | 1 | 步进值 |
| stepMode | InputNumberStepMode | 'continuous' | 步进模式，可选值：'continuous' \| 'discrete' |
| precision | number | 0 | 精度（小数位数） |
| controls | boolean | false | 是否显示控制器 |
| controlsPosition | InputNumberControlsPosition | 'end' | 控制器位置，可选值：'start' \| 'end' |
| clearable | boolean | false | 是否显示清除按钮 |
| clearTrigger | InputNumberClearTrigger | 'focus' | 清除按钮触发时机，可选值：'always' \| 'focus' \| 'never' |
| autoFocus | boolean | false | 是否自动获取焦点 |
| bordered | boolean | true | 是否显示边框 |
| label | React.ReactNode | - | 标签文本 |
| helperText | React.ReactNode | - | 辅助文本 |
| errorText | React.ReactNode | - | 错误文本 |
| prefix | React.ReactNode | - | 前缀图标或文本 |
| suffix | React.ReactNode | - | 后缀图标或文本 |
| formatConfig | InputNumberFormatConfig | { type: 'decimal', precision: 0 } | 数字格式化配置 |
| rules | InputNumberRule[] | - | 验证规则 |
| validateTrigger | 'onChange' \| 'onBlur' \| 'onFocus' \| 'onSubmit' | 'onBlur' | 验证触发时机 |
| immediate | boolean | false | 是否立即验证 |
| validator | (value: number) => boolean \| string \| Promise<boolean \| string> | - | 自定义验证函数 |
| onChange | (value: number \| null, event: ITouchEvent) => void | - | 值变化事件处理函数 |
| onFocus | (event: ITouchEvent) => void | - | 聚焦事件处理函数 |
| onBlur | (event: ITouchEvent) => void | - | 失焦事件处理函数 |
| onInput | (value: number \| null, event: ITouchEvent) => void | - | 输入事件处理函数 |
| onClear | (event: ITouchEvent) => void | - | 清除事件处理函数 |
| onStep | (value: number, direction: 'up' \| 'down', event: ITouchEvent) => void | - | 步进事件处理函数 |
| onValidate | (result: InputNumberValidationResult) => void | - | 验证事件处理函数 |
| className | string | - | 自定义样式类名 |
| style | CSSProperties | - | 自定义样式 |
| containerClassName | string | - | 容器样式类名 |
| containerStyle | CSSProperties | - | 容器样式 |
| block | boolean | true | 是否块级显示 |

### InputNumberRef

| 方法 | 返回值 | 说明 |
| --- | --- | --- |
| getValue | number \| null | 获取输入框值 |
| setValue | void | 设置输入框值 |
| focus | void | 聚焦输入框 |
| blur | void | 失焦输入框 |
| select | void | 选择文本 |
| setSelectionRange | void | 设置选中文本范围 |
| getSelectionRange | { start: number; end: number } | 获取选中文本范围 |
| setDisabled | void | 设置禁用状态 |
| setReadonly | void | 设置只读状态 |
| setStatus | void | 设置输入框状态 |
| getStatus | InputNumberStatus | 获取输入框状态 |
| validate | Promise<InputNumberValidationResult> | 验证输入框值 |
| clear | void | 清除输入框值 |
| reset | void | 重置输入框 |
| stepUp | void | 增加数值 |
| stepDown | void | 减少数值 |
| getValidationResult | InputNumberValidationResult \| null | 获取验证结果 |

### InputNumberFormatConfig

| 参数 | 类型 | 默认值 | 说明 |
| --- | --- | --- | --- |
| type | InputNumberFormatter | 'decimal' | 格式化类型，可选值：'currency' \| 'percent' \| 'decimal' \| 'integer' \| 'custom' |
| precision | number | 0 | 小数位数 |
| thousandsSeparator | string | - | 千分位分隔符 |
| decimalSeparator | string | - | 小数点分隔符 |
| currencySymbol | string | - | 货币符号 |
| currencySymbolPosition | 'prefix' \| 'suffix' | 'prefix' | 货币符号位置 |
| customFormatter | (value: number) => string | - | 自定义格式化函数 |
| customParser | (text: string) => number | - | 自定义解析函数 |

### InputNumberRule

| 参数 | 类型 | 默认值 | 说明 |
| --- | --- | --- | --- |
| required | boolean | false | 是否必填 |
| message | string | - | 错误消息 |
| min | number | - | 最小值 |
| max | number | - | 最大值 |
| validator | (value: number) => boolean \| string \| Promise<boolean \| string> | - | 自定义验证函数 |

## 使用提示

- 当需要输入数字时，应使用 InputNumber 组件而不是普通的 Input 组件
- 可以通过 `min` 和 `max` 属性限制输入范围
- 使用 `precision` 属性控制小数位数
- 开启 `controls` 属性可以显示增减控制器，方便用户快速调整数值
- 通过 `formatConfig` 可以实现数字的格式化显示
- 可以使用 `ref` 调用组件的方法进行程序化操作
- 验证功能可以通过 `rules` 属性或 `validator` 函数实现

## 浏览器兼容性

- 现代浏览器（Chrome, Firefox, Safari, Edge）
- Taro 支持的小程序平台

## 无障碍支持

- 提供 `accessibilityLabel` 和 `accessibilityRole` 属性支持无障碍访问
- 支持键盘导航（Tab 键切换，上下箭头调节数值）
- 遵循 WCAG 2.1 无障碍标准