import { Select, Space, Button } from '@taro-uno/ui';

# Select é€‰æ‹©å™¨

Select ç»„ä»¶ç”¨äºä»é¢„è®¾çš„é€‰é¡¹ä¸­è¿›è¡Œé€‰æ‹©ï¼Œæ”¯æŒå•é€‰ã€å¤šé€‰ã€æœç´¢ã€æ ‡ç­¾ç­‰å¤šç§åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- æ”¯æŒå•é€‰ã€å¤šé€‰å’Œæ ‡ç­¾æ¨¡å¼
- æä¾›å¤šç§å°ºå¯¸å’Œå˜ä½“æ ·å¼
- æ”¯æŒæœç´¢è¿‡æ»¤åŠŸèƒ½
- æ”¯æŒé€‰é¡¹åˆ†ç»„
- æ”¯æŒè‡ªå®šä¹‰é€‰é¡¹æ¸²æŸ“
- æ”¯æŒè¡¨å•éªŒè¯
- æ”¯æŒè™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§æ•°æ®é‡åœºæ™¯ï¼‰
- å®Œæ•´çš„æ— éšœç¢æ”¯æŒ

## åŸºæœ¬ç”¨æ³•

```tsx
<Select
  placeholder="è¯·é€‰æ‹©"
  options={[
    { value: '1', label: 'é€‰é¡¹ä¸€' },
    { value: '2', label: 'é€‰é¡¹äºŒ' },
    { value: '3', label: 'é€‰é¡¹ä¸‰' },
  ]}
  onChange={(value, option) => {
    console.log('é€‰æ‹©å€¼:', value);
    console.log('é€‰æ‹©é€‰é¡¹:', option);
  }}
/>
```

## ä½¿ç”¨ç¤ºä¾‹

### å•é€‰æ¨¡å¼

```tsx
<Select
  placeholder="å•é€‰æ¨¡å¼"
  options={[
    { value: '1', label: 'é€‰é¡¹ä¸€' },
    { value: '2', label: 'é€‰é¡¹äºŒ' },
    { value: '3', label: 'é€‰é¡¹ä¸‰' },
  ]}
/>
```

### å¤šé€‰æ¨¡å¼

```tsx
<Select
  mode="multiple"
  placeholder="å¤šé€‰æ¨¡å¼"
  options={[
    { value: '1', label: 'é€‰é¡¹ä¸€' },
    { value: '2', label: 'é€‰é¡¹äºŒ' },
    { value: '3', label: 'é€‰é¡¹ä¸‰' },
    { value: '4', label: 'é€‰é¡¹å››' },
  ]}
/>
```

### æ ‡ç­¾æ¨¡å¼

```tsx
<Select
  mode="tags"
  placeholder="æ ‡ç­¾æ¨¡å¼"
  options={[
    { value: '1', label: 'æ ‡ç­¾ä¸€' },
    { value: '2', label: 'æ ‡ç­¾äºŒ' },
    { value: '3', label: 'æ ‡ç­¾ä¸‰' },
  ]}
/>
```

### å¸¦æœç´¢åŠŸèƒ½

```tsx
<Select
  showSearch
  placeholder="å¸¦æœç´¢åŠŸèƒ½"
  options={[
    { value: '1', label: 'è‹¹æœ' },
    { value: '2', label: 'é¦™è•‰' },
    { value: '3', label: 'æ©™å­' },
    { value: '4', label: 'è‘¡è„' },
    { value: '5', label: 'è¥¿ç“œ' },
  ]}
  onSearch={(value) => {
    console.log('æœç´¢å€¼:', value);
  }}
/>
```

### é€‰é¡¹åˆ†ç»„

```tsx
<Select
  placeholder="é€‰é¡¹åˆ†ç»„"
  options={[
    { label: 'æ°´æœ', options: [{ value: '1', label: 'è‹¹æœ' }, { value: '2', label: 'é¦™è•‰' }] },
    { label: 'è”¬èœ', options: [{ value: '3', label: 'è¥¿çº¢æŸ¿' }, { value: '4', label: 'é»„ç“œ' }] },
  ]}
/>
```

### ä¸åŒå°ºå¯¸

```tsx
<Space direction="vertical" size="medium">
  <Select
    size="xs"
    placeholder="è¶…å°å°ºå¯¸"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
  <Select
    size="sm"
    placeholder="å°å°ºå¯¸"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
  <Select
    size="md"
    placeholder="ä¸­å°ºå¯¸"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
  <Select
    size="lg"
    placeholder="å¤§å°ºå¯¸"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
  <Select
    size="xl"
    placeholder="è¶…å¤§å°ºå¯¸"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
</Space>
```

### ä¸åŒå˜ä½“

```tsx
<Space direction="vertical" size="medium">
  <Select
    variant="outlined"
    placeholder="æè¾¹å˜ä½“"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
  <Select
    variant="filled"
    placeholder="å¡«å……å˜ä½“"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
  <Select
    variant="underlined"
    placeholder="ä¸‹åˆ’çº¿å˜ä½“"
    options={[{ value: '1', label: 'é€‰é¡¹ä¸€' }, { value: '2', label: 'é€‰é¡¹äºŒ' }]}
  />
</Space>
```

### è¡¨å•éªŒè¯

```tsx
<Select
  placeholder="å¿…å¡«é¡¹"
  rules={[{ required: true, message: 'è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹' }]}
  options={[
    { value: '1', label: 'é€‰é¡¹ä¸€' },
    { value: '2', label: 'é€‰é¡¹äºŒ' },
    { value: '3', label: 'é€‰é¡¹ä¸‰' },
  ]}
/>
```

### è‡ªå®šä¹‰é€‰é¡¹æ¸²æŸ“

```tsx
<Select
  placeholder="è‡ªå®šä¹‰é€‰é¡¹"
  options={[
    { value: '1', label: 'è‹¹æœ', icon: 'ğŸ' },
    { value: '2', label: 'é¦™è•‰', icon: 'ğŸŒ' },
    { value: '3', label: 'æ©™å­', icon: 'ğŸŠ' },
  ]}
  optionRender={(option) => (
    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
      <span>{option.icon}</span>
      <span>{option.label}</span>
    </div>
  )}
/>
```

### å¸¦æ ‡ç­¾å’Œè¾…åŠ©æ–‡æœ¬

```tsx
<Select
  label="é€‰æ‹©å™¨æ ‡ç­¾"
  helperText="è¿™æ˜¯ä¸€ä¸ªè¾…åŠ©æ–‡æœ¬è¯´æ˜"
  placeholder="å¸¦æ ‡ç­¾å’Œè¾…åŠ©æ–‡æœ¬"
  options={[
    { value: '1', label: 'é€‰é¡¹ä¸€' },
    { value: '2', label: 'é€‰é¡¹äºŒ' },
    { value: '3', label: 'é€‰é¡¹ä¸‰' },
  ]}
/>
```

## API

### SelectProps

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| value | string \| number \| Array<string \| number> | - | é€‰æ‹©å™¨å€¼ï¼ˆå—æ§æ¨¡å¼ï¼‰ |
| defaultValue | string \| number \| Array<string \| number> | - | é»˜è®¤å€¼ï¼ˆéå—æ§æ¨¡å¼ï¼‰ |
| placeholder | string | - | å ä½ç¬¦ |
| size | 'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl' | 'md' | é€‰æ‹©å™¨å°ºå¯¸ |
| variant | 'outlined' \| 'filled' \| 'underlined' | 'outlined' | é€‰æ‹©å™¨å˜ä½“ |
| status | 'normal' \| 'error' \| 'warning' \| 'success' \| 'disabled' \| 'loading' | 'normal' | é€‰æ‹©å™¨çŠ¶æ€ |
| mode | 'single' \| 'multiple' \| 'tags' | 'single' | é€‰æ‹©å™¨æ¨¡å¼ |
| disabled | boolean | false | æ˜¯å¦ç¦ç”¨ |
| readonly | boolean | false | æ˜¯å¦åªè¯» |
| bordered | boolean | true | æ˜¯å¦æ˜¾ç¤ºè¾¹æ¡† |
| allowClear | boolean | false | æ˜¯å¦å…è®¸æ¸…é™¤ |
| showSearch | boolean | false | æ˜¯å¦æ”¯æŒæœç´¢ |
| searchPlaceholder | string | - | æœç´¢æ¡†å ä½ç¬¦ |
| showTags | boolean | false | æ˜¯å¦æ”¯æŒæ ‡ç­¾è¾“å…¥ |
| maxTagCount | number | - | æœ€å¤§æ˜¾ç¤ºæ ‡ç­¾æ•°é‡ |
| tagRender | (props: TagRenderProps) => ReactNode | - | æ ‡ç­¾æ¸²æŸ“å‡½æ•° |
| options | Array<SelectOption \| SelectOptionGroup> | [] | é€‰é¡¹åˆ—è¡¨ |
| filterOption | (input: string, option: SelectOption) => boolean | - | é€‰é¡¹è¿‡æ»¤å‡½æ•° |
| sortOption | (a: SelectOption, b: SelectOption) => number | - | é€‰é¡¹æ’åºå‡½æ•° |
| prefix | ReactNode | - | å‰ç¼€å›¾æ ‡æˆ–æ–‡æœ¬ |
| suffix | ReactNode | - | åç¼€å›¾æ ‡æˆ–æ–‡æœ¬ |
| label | ReactNode | - | æ ‡ç­¾æ–‡æœ¬ |
| helperText | ReactNode | - | è¾…åŠ©æ–‡æœ¬ |
| errorText | ReactNode | - | é”™è¯¯æ–‡æœ¬ |
| showArrow | boolean | true | æ˜¯å¦æ˜¾ç¤ºç®­å¤´ |
| dropdownStyle | React.CSSProperties | - | ä¸‹æ‹‰æ¡†è‡ªå®šä¹‰æ ·å¼ |
| dropdownClassName | string | - | ä¸‹æ‹‰æ¡†è‡ªå®šä¹‰ç±»å |
| dropdownMatchSelectWidth | boolean | true | ä¸‹æ‹‰æ¡†æ˜¯å¦åŒ¹é…é€‰æ‹©å™¨å®½åº¦ |
| placement | 'bottomLeft' \| 'bottomRight' \| 'topLeft' \| 'topRight' | 'bottomLeft' | ä¸‹æ‹‰æ¡†ä½ç½® |
| className | string | - | è‡ªå®šä¹‰ç±»å |
| style | React.CSSProperties | - | è‡ªå®šä¹‰æ ·å¼ |
| block | boolean | false | æ˜¯å¦å—çº§æ˜¾ç¤º |
| containerStyle | React.CSSProperties | - | å®¹å™¨æ ·å¼ |
| accessible | boolean | true | æ˜¯å¦å¯ç”¨æ— éšœç¢è®¿é—® |
| accessibilityLabel | string | - | æ— éšœç¢æ ‡ç­¾ |
| accessibilityRole | string | - | æ— éšœç¢è§’è‰² |
| accessibilityState | { disabled?: boolean; readonly?: boolean; required?: boolean; expanded?: boolean; busy?: boolean; } | - | æ— éšœç¢çŠ¶æ€ |
| rules | Array<{ required?: boolean; message?: string; validator?: (value: any) => boolean \| string \| Promise<boolean \| string>; }> | [] | è¡¨å•éªŒè¯è§„åˆ™ |
| validateTrigger | 'onChange' \| 'onBlur' \| 'onSubmit' | 'onChange' | éªŒè¯è§¦å‘æ—¶æœº |
| immediate | boolean | false | æ˜¯å¦ç«‹å³éªŒè¯ |
| maxCount | number | - | é€‰é¡¹æœ€å¤§æ•°é‡ï¼ˆå¤šé€‰æ¨¡å¼ï¼‰ |
| minCount | number | - | é€‰é¡¹æœ€å°æ•°é‡ï¼ˆå¤šé€‰æ¨¡å¼ï¼‰ |
| validator | (value: any) => boolean \| string \| Promise<boolean \| string> | - | è‡ªå®šä¹‰éªŒè¯å‡½æ•° |
| virtual | boolean | false | æ˜¯å¦å¯ç”¨è™šæ‹Ÿæ»šåŠ¨ |
| listHeight | number | 256 | è™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨é«˜åº¦ |
| listItemHeight | number | 32 | è™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨é¡¹é«˜åº¦ |
| loading | boolean | false | æ˜¯å¦æ˜¾ç¤ºåŠ è½½çŠ¶æ€ |
| loadingText | string | - | åŠ è½½ä¸­æ–‡æœ¬ |
| notFoundContent | ReactNode | 'æ— åŒ¹é…é€‰é¡¹' | ç©ºçŠ¶æ€æ–‡æœ¬ |
| notFoundRender | () => ReactNode | - | è‡ªå®šä¹‰ç©ºçŠ¶æ€æ¸²æŸ“ |
| dropdownRender | (menu: ReactNode) => ReactNode | - | è‡ªå®šä¹‰ä¸‹æ‹‰æ¡†æ¸²æŸ“ |
| optionRender | (option: SelectOption) => ReactNode | - | è‡ªå®šä¹‰é€‰é¡¹æ¸²æŸ“ |
| optionGroupRender | (group: SelectOptionGroup) => ReactNode | - | è‡ªå®šä¹‰é€‰é¡¹ç»„æ¸²æŸ“ |

### SelectRef

| æ–¹æ³• | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| element | HTMLSelectElement \| null | é€‰æ‹©å™¨å…ƒç´  |
| getValue | () => string \| number \| Array<string \| number> | è·å–é€‰æ‹©å™¨å€¼ |
| setValue | (value: string \| number \| Array<string \| number>) => void | è®¾ç½®é€‰æ‹©å™¨å€¼ |
| focus | () => void | èšç„¦é€‰æ‹©å™¨ |
| blur | () => void | å¤±ç„¦é€‰æ‹©å™¨ |
| openDropdown | () => void | æ‰“å¼€ä¸‹æ‹‰æ¡† |
| closeDropdown | () => void | å…³é—­ä¸‹æ‹‰æ¡† |
| toggleDropdown | () => void | åˆ‡æ¢ä¸‹æ‹‰æ¡† |
| setDisabled | (disabled: boolean) => void | è®¾ç½®ç¦ç”¨çŠ¶æ€ |
| setReadonly | (readonly: boolean) => void | è®¾ç½®åªè¯»çŠ¶æ€ |
| setStatus | (status: SelectStatus) => void | è®¾ç½®é€‰æ‹©å™¨çŠ¶æ€ |
| getStatus | () => SelectStatus | è·å–é€‰æ‹©å™¨çŠ¶æ€ |
| validate | () => Promise<{ valid: boolean; message?: string }> | éªŒè¯é€‰æ‹©å™¨å€¼ |
| clear | () => void | æ¸…é™¤é€‰æ‹©å™¨å€¼ |
| reset | () => void | é‡ç½®é€‰æ‹©å™¨ |
| getSelectedOptions | () => SelectOption[] | è·å–é€‰ä¸­é€‰é¡¹ |
| searchOptions | (keyword: string) => SelectOption[] | æœç´¢é€‰é¡¹ |
| scrollToOption | (value: string \| number) => void | æ»šåŠ¨åˆ°æŒ‡å®šé€‰é¡¹ |

### SelectOption

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| value | string \| number | - | é€‰é¡¹å€¼ |
| label | ReactNode | - | é€‰é¡¹æ ‡ç­¾ |
| description | ReactNode | - | é€‰é¡¹æè¿° |
| disabled | boolean | false | é€‰é¡¹æ˜¯å¦ç¦ç”¨ |
| group | string | - | é€‰é¡¹åˆ†ç»„ |
| icon | ReactNode | - | é€‰é¡¹å›¾æ ‡ |
| color | string | - | é€‰é¡¹é¢œè‰² |
| style | React.CSSProperties | - | è‡ªå®šä¹‰æ ·å¼ |
| className | string | - | è‡ªå®šä¹‰ç±»å |

### SelectOptionGroup

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| label | ReactNode | - | åˆ†ç»„æ ‡ç­¾ |
| options | SelectOption[] | - | åˆ†ç»„é€‰é¡¹ |
| disabled | boolean | false | åˆ†ç»„æ˜¯å¦ç¦ç”¨ |
| style | React.CSSProperties | - | è‡ªå®šä¹‰æ ·å¼ |
| className | string | - | è‡ªå®šä¹‰ç±»å |

### SelectGroupProps

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| children | ReactNode | - | é€‰æ‹©å™¨ç»„å†…å®¹ |
| size | SelectSize | - | é€‰æ‹©å™¨ç»„å°ºå¯¸ |
| variant | SelectVariant | - | é€‰æ‹©å™¨ç»„å˜ä½“ |
| status | SelectStatus | - | é€‰æ‹©å™¨ç»„çŠ¶æ€ |
| compact | boolean | false | æ˜¯å¦ç´§å‡‘å¸ƒå±€ |
| block | boolean | false | æ˜¯å¦å—çº§æ˜¾ç¤º |
| className | string | - | è‡ªå®šä¹‰ç±»å |
| style | React.CSSProperties | - | è‡ªå®šä¹‰æ ·å¼ |

## äº‹ä»¶

| äº‹ä»¶åç§° | ç±»å‹ | è¯´æ˜ |
|----------|------|------|
| onChange | (value: string \| number \| Array<string \| number>, option: SelectOption \| SelectOption[]) => void | å€¼å˜åŒ–äº‹ä»¶ |
| onFocus | (event: ITouchEvent) => void | èšç„¦äº‹ä»¶ |
| onBlur | (event: ITouchEvent) => void | å¤±ç„¦äº‹ä»¶ |
| onDropdownVisibleChange | (open: boolean) => void | ä¸‹æ‹‰æ¡†æ˜¾ç¤º/éšè—äº‹ä»¶ |
| onSearch | (value: string) => void | æœç´¢äº‹ä»¶ |
| onClear | (event: ITouchEvent) => void | æ¸…é™¤äº‹ä»¶ |
| onPopupScroll | (event: ITouchEvent) => void | ä¸‹æ‹‰æ¡†æ»šåŠ¨äº‹ä»¶ |

## ä½¿ç”¨æç¤º

1. **æ€§èƒ½ä¼˜åŒ–**ï¼šå½“é€‰é¡¹æ•°é‡è¾ƒå¤šï¼ˆè¶…è¿‡100ä¸ªï¼‰æ—¶ï¼Œå»ºè®®å¯ç”¨`virtual`å±æ€§å¼€å¯è™šæ‹Ÿæ»šåŠ¨ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚

2. **è‡ªå®šä¹‰æ ·å¼**ï¼šå¯ä»¥é€šè¿‡`dropdownStyle`å’Œ`dropdownClassName`è‡ªå®šä¹‰ä¸‹æ‹‰æ¡†æ ·å¼ï¼Œé€šè¿‡`optionRender`è‡ªå®šä¹‰é€‰é¡¹æ¸²æŸ“ã€‚

3. **è¡¨å•éªŒè¯**ï¼šä½¿ç”¨`rules`å±æ€§è®¾ç½®éªŒè¯è§„åˆ™ï¼Œæ”¯æŒå¿…å¡«éªŒè¯å’Œè‡ªå®šä¹‰éªŒè¯å‡½æ•°ã€‚

4. **æ— éšœç¢è®¿é—®**ï¼šç»„ä»¶é»˜è®¤å¯ç”¨æ— éšœç¢æ”¯æŒï¼Œå¯é€šè¿‡`accessible`å±æ€§å…³é—­ï¼Œé€šè¿‡`accessibilityLabel`è®¾ç½®æ— éšœç¢æ ‡ç­¾ã€‚

5. **é€‰é¡¹åŠ è½½**ï¼šå½“é€‰é¡¹éœ€è¦å¼‚æ­¥åŠ è½½æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`loading`å±æ€§æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼Œ`loadingText`è®¾ç½®åŠ è½½æ–‡æœ¬ã€‚

## æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | ç‰ˆæœ¬ |
|--------|------|
| Chrome | 80+ |
| Firefox | 75+ |
| Safari | 13+ |
| Edge | 80+ |

## æ— éšœç¢æ”¯æŒ

- æ”¯æŒé”®ç›˜å¯¼èˆªï¼ˆä¸Šä¸‹ç®­å¤´ã€å›è½¦ã€ESCï¼‰
- æ”¯æŒå±å¹•é˜…è¯»å™¨
- ç¬¦åˆ WCAG 2.1 æ ‡å‡†
- æ”¯æŒ ARIA å±æ€§