import { Text } from '@taro-uno/ui';
import TextExample from './examples/index';

<Meta title="基础组件 / Text 文本" description="功能丰富的文本组件，支持多种样式和交互效果" />

<Description>
  Text 组件是一个功能丰富的文本渲染组件，提供了多种样式和交互效果，包括尺寸、颜色、对齐方式、装饰效果等。
</Description>

<CodeExample title="基本用法">
  <TextExample />
  <ExampleCode>
  ```tsx
  import React from 'react';
  import { Text } from '@taro-uno/ui';
  
  export default function TextExample() {
    return (
      <View>
        <Text>这是一段基础文本</Text>
        <Text size="xl" weight="bold">大号粗体文本</Text>
        <Text color="primary">主色调文本</Text>
        <Text underline>带下划线的文本</Text>
        <Text strikethrough>带删除线的文本</Text>
      </View>
    );
  }
  ```
  </ExampleCode>
</CodeExample>

## 功能介绍

Text 组件提供了以下核心功能：

### 样式定制
- 多种文本尺寸（xs 到 9xl）
- 丰富的文本权重（thin 到 black）
- 多种文本颜色（primary、secondary、success、warning、error 等）
- 灵活的对齐方式（left、center、right、justify 等）
- 文本装饰效果（underline、overline、line-through）
- 文本转换（capitalize、uppercase、lowercase）

### 交互功能
- 可点击文本
- 可复制文本
- 可选择文本
- 加载状态
- 禁用状态
- 链接功能

### 高级特性
- 文本溢出处理（clip、ellipsis、break-word 等）
- 多行文本控制
- 文本渐变效果
- 文本阴影和轮廓
- 自定义字体和行高
- 响应式设计支持

## API

### TextProps

| 属性 | 类型 | 默认值 | 说明 |
| --- | --- | --- | --- |
| children | ReactNode | - | 文本内容 |
| size | TextSize | 'md' | 文本尺寸 |
| weight | TextWeight | 'normal' | 文本权重 |
| color | TextColor | 'inherit' | 文本颜色 |
| align | TextAlign | 'left' | 文本对齐 |
| decoration | TextDecoration | 'none' | 文本装饰 |
| transform | TextTransform | 'none' | 文本转换 |
| overflow | TextOverflow | 'clip' | 文本溢出处理 |
| direction | TextDirection | 'ltr' | 文本方向 |
| fontStyle | TextStyle | 'normal' | 文本样式 |
| variant | TextVariant | 'normal' | 文本变体 |
| letterSpacing | LetterSpacing | 'normal' | 字母间距 |
| lineHeight | LineHeight | 'normal' | 行高 |
| status | TextStatus | 'normal' | 文本状态 |
| type | TextType | 'body' | 文本类型 |
| clickable | boolean | false | 是否可点击 |
| loading | boolean | false | 是否显示加载状态 |
| disabled | boolean | false | 是否禁用 |
| block | boolean | false | 是否块级显示 |
| inlineBlock | boolean | false | 是否内联块级显示 |
| selectable | boolean | false | 是否可选中 |
| copyable | boolean | false | 是否可复制 |
| onCopy | () => void | - | 复制时的回调函数 |
| className | string | - | 自定义样式类名 |
| onClick | (event: React.MouseEvent) => void | - | 点击事件处理函数 |
| style | React.CSSProperties | - | 自定义样式 |
| maxLines | number | - | 最大行数 |
| animated | boolean | false | 是否启用动画 |
| animationDuration | number | 300 | 动画持续时间 |
| href | string | - | 文本链接地址 |
| target | '_blank' | '_self' | '_parent' | '_top' | '_self' | 链接打开方式 |
| underline | boolean | false | 是否显示下划线 |
| strikethrough | boolean | false | 是否删除线 |
| highlight | boolean | false | 是否高亮 |
| highlightColor | string | '#fef3c7' | 高亮颜色 |
| ellipsis | boolean | false | 是否显示省略号 |
| wrap | boolean | true | 是否自动换行 |
| breakWord | boolean | false | 是否保持单词完整 |
| textShadow | string | - | 文本阴影 |
| textOutline | string | - | 文本轮廓 |
| gradient | { start: string; end: string; direction?: string } | - | 文本渐变 |
| fontFamily | string | string[] | - | 自定义字体 |

### TextRef

| 方法 | 类型 | 说明 |
| --- | --- | --- |
| element | HTMLParagraphElement | HTMLSpanElement | null | 文本元素 |
| getText | () => string | 获取文本内容 |
| setText | (text: string) => void | 设置文本内容 |
| copy | () => Promise<void> | 复制文本 |
| select | () => void | 选择文本 |
| setDisabled | (disabled: boolean) => void | 设置禁用状态 |
| setLoading | (loading: boolean) => void | 设置加载状态 |
| getStatus | () => TextStatus | 获取文本状态 |
| getSize | () => TextSize | 获取文本尺寸 |
| getColor | () => string | 获取文本颜色 |
| setColor | (color: string) => void | 设置文本颜色 |
| setSize | (size: TextSize) => void | 设置文本尺寸 |
| setWeight | (weight: TextWeight) => void | 设置文本权重 |
| scrollIntoView | (options?: ScrollIntoViewOptions) => void | 滚动到视图 |

## 使用示例

### 基础文本

```tsx
<Text>这是一段基础文本</Text>
```

### 不同尺寸

```tsx
<Text size="xs">超小文本</Text>
<Text size="sm">小文本</Text>
<Text size="md">中等文本</Text>
<Text size="lg">大文本</Text>
<Text size="xl">超大文本</Text>
```

### 不同权重

```tsx
<Text weight="thin">细体文本</Text>
<Text weight="normal">正常文本</Text>
<Text weight="medium">中等粗体</Text>
<Text weight="bold">粗体文本</Text>
<Text weight="black">黑体文本</Text>
```

### 不同颜色

```tsx
<Text color="primary">主色调文本</Text>
<Text color="secondary">次要色调文本</Text>
<Text color="success">成功文本</Text>
<Text color="warning">警告文本</Text>
<Text color="error">错误文本</Text>
```

### 文本装饰

```tsx
<Text underline>带下划线的文本</Text>
<Text strikethrough>带删除线的文本</Text>
<Text decoration="overline">带顶线的文本</Text>
```

### 可复制文本

```tsx
<Text copyable onCopy={() => console.log('复制成功')}>可复制的文本</Text>
```

### 链接文本

```tsx
<Text href="https://example.com" target="_blank">链接文本</Text>
```

### 多行文本控制

```tsx
<Text maxLines={2} ellipsis>这是一段很长的文本，将会在第二行末尾显示省略号...</Text>
```

### 渐变文本

```tsx
<Text gradient={{ start: '#1890ff', end: '#52c41a', direction: 'to right' }}>渐变文本</Text>
```

### 高亮文本

```tsx
<Text highlight highlightColor="#ffeb3b">高亮文本</Text>
```

## 使用提示

1. **性能优化**：对于大量文本内容，建议使用 `selectable={false}` 和 `copyable={false}` 来提高性能。

2. **可访问性**：为文本添加适当的 `aria-label` 和 `role` 属性，提高可访问性。

3. **响应式设计**：结合 ResponsiveContainer 组件使用，实现不同屏幕尺寸下的文本适配。

4. **自定义样式**：使用 `style` 和 `className` 属性可以覆盖默认样式，实现个性化需求。

5. **国际化**：支持多语言文本，通过 `direction` 属性设置文本方向（如 RTL 用于阿拉伯语等）。

## 浏览器兼容性

| 浏览器 | 版本 | 支持情况 |
| --- | --- | --- |
| Chrome | 80+ | ✅ |
| Firefox | 75+ | ✅ |
| Safari | 13+ | ✅ |
| Edge | 80+ | ✅ |
| 微信小程序 | 基础库 2.10+ | ✅ |
| 支付宝小程序 | 基础库 2.7+ | ✅ |

## 无障碍支持

- 支持屏幕阅读器
- 支持键盘导航
- 支持 ARIA 属性
- 提供适当的颜色对比度