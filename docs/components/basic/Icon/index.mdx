# Icon 图标

Icon 是用于显示各种图标资源的组件，支持多种图标类型和配置方式。

## 功能介绍

- 支持多种图标类型：SVG、图片、字体图标和自定义 React 组件
- 提供丰富的尺寸、颜色和状态配置
- 支持旋转、动画和滤镜效果
- 支持点击事件和涟漪效果
- 支持工具提示
- 提供无障碍访问支持

## 使用示例

### 基础用法

```tsx
import { Icon } from '@taro-uno/ui';

function BasicIcon() {
  return <Icon source="home" />;
}
```

### 不同类型的图标

```tsx
import { Icon } from '@taro-uno/ui';

function IconTypes() {
  return (
    <>
      {/* 字体图标 */}
      <Icon source="user" style={{ marginRight: '16px' }} />
      
      {/* 图片图标 */}
      <Icon source="https://example.com/icon.png" style={{ marginRight: '16px' }} />
      
      {/* SVG图标 */}
      <Icon source="<svg width='24' height='24' viewBox='0 0 24 24'><path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z'/></svg>" />
    </>
  );
}
```

### 尺寸设置

```tsx
import { Icon } from '@taro-uno/ui';

function IconSizes() {
  return (
    <>
      <Icon source="star" size="xs" style={{ marginRight: '8px' }} />
      <Icon source="star" size="sm" style={{ marginRight: '8px' }} />
      <Icon source="star" size="md" style={{ marginRight: '8px' }} />
      <Icon source="star" size="lg" style={{ marginRight: '8px' }} />
      <Icon source="star" size="xl" style={{ marginRight: '8px' }} />
      <Icon source="star" size={40} />
    </>
  );
}
```

### 颜色设置

```tsx
import { Icon } from '@taro-uno/ui';

function IconColors() {
  return (
    <>
      <Icon source="heart" color="#ff4d4f" style={{ marginRight: '16px' }} />
      <Icon source="heart" color="#52c41a" style={{ marginRight: '16px' }} />
      <Icon source="heart" color="#1890ff" style={{ marginRight: '16px' }} />
      <Icon source="heart" color="#faad14" />
    </>
  );
}
```

### 状态设置

```tsx
import { Icon } from '@taro-uno/ui';

function IconStatus() {
  return (
    <>
      <Icon source="user" status="normal" style={{ marginRight: '16px' }} />
      <Icon source="user" status="active" style={{ marginRight: '16px' }} />
      <Icon source="user" status="disabled" style={{ marginRight: '16px' }} />
      <Icon source="user" status="loading" />
    </>
  );
}
```

### 旋转图标

```tsx
import { Icon } from '@taro-uno/ui';

function RotatedIcon() {
  return (
    <>
      <Icon source="refresh" rotate={45} style={{ marginRight: '16px' }} />
      <Icon source="refresh" rotate={90} style={{ marginRight: '16px' }} />
      <Icon source="refresh" rotate={180} style={{ marginRight: '16px' }} />
      <Icon source="refresh" rotate={270} />
    </>
  );
}
```

### 可点击的图标

```tsx
import { Icon } from '@taro-uno/ui';

function ClickableIcon() {
  const handleClick = () => {
    console.log('Icon clicked');
  };

  return (
    <Icon
      source="edit"
      clickable
      onClick={handleClick}
      style={{ cursor: 'pointer' }}
    />
  );
}
```

### 带动画的图标

```tsx
import { Icon } from '@taro-uno/ui';

function AnimatedIcon() {
  return (
    <Icon
      source="loading"
      animated
      animationDuration={2000}
      size="lg"
      color="primary"
    />
  );
}
```

### 带滤镜的图标

```tsx
import { Icon } from '@taro-uno/ui';

function FilteredIcon() {
  return (
    <>
      <Icon source="camera" filter="grayscale" style={{ marginRight: '16px' }} />
      <Icon source="camera" filter="sepia" style={{ marginRight: '16px' }} />
      <Icon source="camera" filter="blur" style={{ marginRight: '16px' }} />
      <Icon source="camera" filter="brightness" />
    </>
  );
}
```

### 带工具提示的图标

```tsx
import { Icon } from '@taro-uno/ui';

function IconWithTooltip() {
  return (
    <Icon
      source="info-circle"
      tooltip="这是一个信息图标"
      tooltipPosition="top"
      style={{ marginRight: '16px' }}
    />
  );
}
```

### 自定义图标组件

```tsx
import { Icon } from '@taro-uno/ui';

function CustomIcon() {
  const MyCustomIcon = () => (
    <div style={{ width: 24, height: 24, background: 'linear-gradient(45deg, #1890ff, #52c41a)' }} />
  );

  return <Icon source={<MyCustomIcon />} />;
}
```

### 图标组

```tsx
import { Icon } from '@taro-uno/ui';

function IconGroup() {
  return (
    <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
      <Icon source="facebook" color="#3b5998" />
      <Icon source="twitter" color="#1da1f2" />
      <Icon source="instagram" color="#e4405f" />
      <Icon source="github" color="#333" />
    </div>
  );
}
```

### 禁用状态

```tsx
import { Icon } from '@taro-uno/ui';

function DisabledIcon() {
  return (
    <>
      <Icon source="like" disabled style={{ marginRight: '16px' }} />
      <Icon source="dislike" disabled />
    </>
  );
}
```

### 加载状态

```tsx
import { Icon } from '@taro-uno/ui';

function LoadingIcon() {
  return (
    <Icon
      source="spinner"
      loading
      size="lg"
      color="primary"
    />
  );
}
```

### 混合模式

```tsx
import { Icon } from '@taro-uno/ui';

function IconBlendMode() {
  return (
    <div style={{ background: 'linear-gradient(45deg, #1890ff, #52c41a)', padding: '20px' }}>
      <Icon source="star" size="lg" color="white" blendMode="screen" />
    </div>
  );
}
```

### 涟漪效果

```tsx
import { Icon } from '@taro-uno/ui';

function IconWithRipple() {
  return (
    <Icon
      source="add"
      clickable
      ripple
      size="lg"
      color="primary"
    />
  );
}
```

## API

### IconProps

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| source | IconSource | - | 图标源，可以是字符串（URL或字体图标名称）、React节点或SVG数据对象 |
| type | IconType | 'font' | 图标类型，可选值：'svg'、'image'、'font'、'custom' |
| size | IconSize \| number | 'md' | 图标尺寸，可选值：'xs'、'sm'、'md'、'lg'、'xl'、'2xl'、'3xl'、'4xl'、'5xl'或数字 |
| color | IconColor | 'currentColor' | 图标颜色 |
| rotate | IconRotation | 0 | 图标旋转角度，可选值：0、45、90、135、180、225、270、315 |
| status | IconStatus | 'normal' | 图标状态，可选值：'normal'、'active'、'disabled'、'loading' |
| theme | IconTheme | 'outlined' | 图标主题，可选值：'outlined'、'filled'、'two-tone'、'colored' |
| clickable | boolean | false | 是否可点击 |
| loading | boolean | false | 是否显示加载状态 |
| disabled | boolean | false | 是否禁用 |
| className | string | - | 自定义样式类名 |
| onClick | (event: React.MouseEvent) => void | - | 点击事件处理函数 |
| style | React.CSSProperties | - | 自定义样式 |
| prefix | string | - | 图标库前缀 |
| suffix | string | - | 图标库后缀 |
| animated | boolean | false | 是否启用动画 |
| animationDuration | number | 300 | 动画持续时间（毫秒） |
| groupIndex | number | - | 图标组中的索引位置 |
| groupSize | number | - | 图标组中的总数 |
| loadingIcon | ReactNode | - | 自定义加载图标 |
| tooltip | string | - | 工具提示文本 |
| tooltipPosition | 'top' \| 'bottom' \| 'left' \| 'right' | 'top' | 工具提示位置 |
| ripple | boolean | false | 是否启用涟漪效果 |
| filter | 'none' \| 'grayscale' \| 'sepia' \| 'blur' \| 'brightness' \| 'contrast' \| 'hue-rotate' | 'none' | 图标滤镜效果 |
| blendMode | 'normal' \| 'multiply' \| 'screen' \| 'overlay' \| 'darken' \| 'lighten' | 'normal' | 图标混合模式 |
| 'data-testid' | string | - | 测试标识 |

### IconRef

| 方法名 | 类型 | 说明 |
|--------|------|------|
| element | SVGElement \| HTMLImageElement \| HTMLSpanElement \| null | 图标元素 |
| click | () => void | 触发点击事件 |
| setDisabled | (disabled: boolean) => void | 设置禁用状态 |
| setLoading | (loading: boolean) => void | 设置加载状态 |
| getStatus | () => IconStatus | 获取图标状态 |
| getSize | () => IconSize \| number | 获取图标尺寸 |
| getColor | () => string | 获取图标颜色 |
| rotate | (angle: IconRotation) => void | 旋转图标 |
| setColor | (color: string) => void | 设置图标颜色 |
| setSize | (size: IconSize \| number) => void | 设置图标尺寸 |

### IconSource

图标源类型可以是以下任意一种：

```typescript
type IconSource =
  | string // URL或字体图标名称
  | ReactNode // 自定义React节点
  | {
      // SVG图标数据
      viewBox?: string;
      path?: string;
      paths?: string[];
      d?: string;
    };
```

## 使用提示

1. 字体图标需要先加载对应的字体文件
2. SVG图标可以直接传入SVG字符串或对象格式
3. 图片图标需要确保URL可访问
4. 自定义图标可以传入任何React节点
5. 旋转角度只支持预定义的角度值
6. 禁用状态会自动降低透明度并禁用点击事件
7. 加载状态会显示加载动画

## 无障碍支持

- 支持通过aria-label属性设置无障碍标签
- 可点击图标自动设置role="button"
- 禁用状态自动设置aria-disabled="true"

## 浏览器兼容性

支持所有现代浏览器以及Taro支持的小程序平台。