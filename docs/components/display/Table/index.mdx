---
title: Table 表格
description: 用于展示结构化数据的组件。
source: https://github.com/zfkc/taro-uno/blob/main/src/components/display/Table/Table.tsx
examples: TableExample
---

import TableExample from '/src/examples/display/TableExample';

## 功能介绍

Table 组件是用于展示结构化数据的核心组件，支持多种交互和展示方式，包括：

- 基本表格数据展示
- 支持列排序和筛选
- 支持行选择（单选/多选）
- 支持行展开功能
- 支持分页控制
- 支持边框、斑马纹和悬停效果
- 支持加载状态和空数据状态
- 支持自定义行、单元格和展开内容渲染
- 支持响应式滚动

## 基本用法

### 简单表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '性别', dataIndex: 'gender', key: 'gender' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

const data = [
  { name: '张三', age: 25, gender: '男', email: 'zhangsan@example.com' },
  { name: '李四', age: 30, gender: '女', email: 'lisi@example.com' },
  { name: '王五', age: 28, gender: '男', email: 'wangwu@example.com' },
];

<Table columns={columns} dataSource={data} rowKey="name" />
```

### 带排序的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name', sortable: true },
  { title: '年龄', dataIndex: 'age', key: 'age', sortable: true },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

const data = [
  { name: '张三', age: 25, email: 'zhangsan@example.com' },
  { name: '李四', age: 30, email: 'lisi@example.com' },
  { name: '王五', age: 28, email: 'wangwu@example.com' },
];

<Table columns={columns} dataSource={data} rowKey="name" />
```

### 带选择的表格

```tsx
import { Table, useState } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

const data = [
  { name: '张三', age: 25, email: 'zhangsan@example.com' },
  { name: '李四', age: 30, email: 'lisi@example.com' },
  { name: '王五', age: 28, email: 'wangwu@example.com' },
];

const [selectedRowKeys, setSelectedRowKeys] = useState<string[]>([]);

const rowSelection = {
  selectedRowKeys,
  onChange: (keys) => setSelectedRowKeys(keys),
};

<Table columns={columns} dataSource={data} rowKey="name" rowSelection={rowSelection} />
```

### 带展开的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

const data = [
  { name: '张三', age: 25, email: 'zhangsan@example.com', address: '北京市朝阳区' },
  { name: '李四', age: 30, email: 'lisi@example.com', address: '上海市浦东新区' },
  { name: '王五', age: 28, email: 'wangwu@example.com', address: '广州市天河区' },
];

const expandable = {
  expandedRowRender: (record) => (
    <div style={{ margin: 0, padding: 16 }}>
      <p>详细地址：{record.address}</p>
      <p>更多信息将在此处展示</p>
    </div>
  ),
};

<Table columns={columns} dataSource={data} rowKey="name" expandable={expandable} />
```

### 带分页的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

// 模拟大量数据
const data = Array.from({ length: 30 }, (_, index) => ({
  name: `用户${index + 1}`,
  age: 20 + Math.floor(Math.random() * 30),
  email: `user${index + 1}@example.com`,
}));

<Table columns={columns} dataSource={data} rowKey="name" pagination={true} />
```

### 自定义样式的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
  { 
    title: '操作', 
    key: 'action', 
    render: (_, record) => (
      <a href="#" style={{ color: '#1890ff' }}>编辑</a>
    ) 
  },
];

const data = [
  { name: '张三', age: 25, email: 'zhangsan@example.com' },
  { name: '李四', age: 30, email: 'lisi@example.com' },
  { name: '王五', age: 28, email: 'wangwu@example.com' },
];

<Table 
  columns={columns} 
  dataSource={data} 
  rowKey="name" 
  bordered={true} 
  striped={true} 
  hoverable={true}
/>
```

### 带滚动的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = Array.from({ length: 15 }, (_, index) => ({
  title: `列${index + 1}`,
  dataIndex: `column${index + 1}`,
  key: `column${index + 1}`,
  width: 150,
}));

const data = Array.from({ length: 20 }, (_, index) => {
  const row: any = { key: `row${index + 1}` };
  columns.forEach(col => {
    row[col.dataIndex] = `数据${index + 1}-${col.dataIndex}`;
  });
  return row;
});

<Table 
  columns={columns} 
  dataSource={data} 
  rowKey="key" 
  scroll={{ x: 1200, y: 400 }}
/>
```

### 带加载状态的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

const data = [];

<Table columns={columns} dataSource={data} rowKey="name" loading={true} />
```

### 自定义空状态的表格

```tsx
import { Table } from '@taro-uno/ui';

const columns = [
  { title: '姓名', dataIndex: 'name', key: 'name' },
  { title: '年龄', dataIndex: 'age', key: 'age' },
  { title: '邮箱', dataIndex: 'email', key: 'email' },
];

const data = [];

<Table 
  columns={columns} 
  dataSource={data} 
  rowKey="name" 
  emptyText="暂无数据，请点击添加按钮创建"
/>
```

## API 参数

### TableProps

| 参数 | 类型 | 默认值 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| columns | TableColumn[] | - | 是 | 表格列配置 |
| data | T[] | - | 否 | 表格数据 |
| dataSource | T[] | - | 否 | 数据源（兼容属性） |
| rowKey | string \| ((record: T) => string) | 'key' | 否 | 行键值字段 |
| size | TableSize | 'medium' | 否 | 表格尺寸 |
| border | TableBorder | - | 否 | 表格边框 |
| bordered | boolean | false | 否 | 是否有边框（兼容属性） |
| striped | boolean | false | 否 | 是否斑马纹 |
| hoverable | boolean | true | 否 | 是否悬停效果 |
| expandable | boolean \| TableExpandable<T> | false | 否 | 是否可展开 |
| expandedRowRender | (record: T, index: number) => ReactNode | - | 否 | 展开行渲染 |
| selectable | boolean | false | 否 | 是否可选择 |
| selectionType | 'checkbox' \| 'radio' | 'checkbox' | 否 | 选择类型 |
| defaultSelectedRowKeys | string[] | [] | 否 | 默认选中行键值 |
| selectedRowKeys | string[] | - | 否 | 选中行键值 |
| onRowSelect | (selectedRowKeys: string[], selectedRows: T[]) => void | - | 否 | 行选择事件 |
| rowSelection | TableRowSelection<T> | - | 否 | 行选择配置 |
| onChange | (pagination: TablePaginationConfig, filters: any, sorter: any) => void | - | 否 | 表格变化事件 |
| onRow | (record: T, index: number) => Record<string, any> | - | 否 | 行配置 - Taro.js compatible |
| onHeaderRow | (columns: TableColumn<T>[], index: number) => Record<string, any> | - | 否 | 表头行配置 - Taro.js compatible |
| onRowClick | (record: T, index: number, event: any) => void | - | 否 | 行点击事件 - Taro.js compatible |
| onSort | (field: string, order: TableSortOrder) => void | - | 否 | 排序事件 |
| onFilter | (filters: Record<string, any[]>) => void | - | 否 | 筛选事件 |
| pagination | TablePaginationConfig \| boolean | false | 否 | 分页配置 |
| showHeader | boolean | true | 否 | 是否显示表头 |
| scrollable | boolean | false | 否 | 是否显示滚动条 |
| scroll | { x?: number \| string; y?: number \| string } | - | 否 | 滚动配置 |
| loading | boolean | false | 否 | 是否加载中 |
| emptyText | ReactNode | '暂无数据' | 否 | 空数据渲染 |
| rowStyle | (record: T, index: number) => React.CSSProperties | - | 否 | 行样式 |
| rowClassName | (record: T, index: number) => string | - | 否 | 行类名 |
| cellStyle | (value: any, record: T, column: TableColumn<T>, index: number) => React.CSSProperties | - | 否 | 单元格样式 |
| cellClassName | (value: any, record: T, column: TableColumn<T>, index: number) => string | - | 否 | 单元格类名 |
| rowRender | (record: T, index: number) => ReactNode | - | 否 | 自定义行渲染 |
| cellRender | (value: any, record: T, column: TableColumn<T>, index: number) => ReactNode | - | 否 | 自定义单元格渲染 |

### TableColumn

| 参数 | 类型 | 默认值 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| title | ReactNode | - | 是 | 列标题 |
| dataIndex | string | - | 是 | 数据字段 |
| key | string | - | 否 | 列键值 |
| width | number \| string | - | 否 | 列宽 |
| align | TableAlign | 'left' | 否 | 对齐方式 |
| fixed | 'left' \| 'right' \| boolean | - | 否 | 是否固定 |
| sortable | boolean | false | 否 | 是否可排序 |
| sortField | string | - | 否 | 排序字段 |
| onSort | (field: string, order: TableSortOrder) => void | - | 否 | 排序回调 |
| filter | TableFilterConfig | - | 否 | 筛选配置 |
| render | (value: any, record: T, index: number) => ReactNode | - | 否 | 自定义渲染 |
| titleRender | (column: TableColumn<T>) => ReactNode | - | 否 | 自定义标题渲染 |
| visible | boolean | true | 否 | 是否显示 |
| ellipsis | boolean | false | 否 | 是否省略 |
| style | React.CSSProperties | - | 否 | 自定义样式 |
| className | string | - | 否 | 自定义类名 |

### TableRowSelection

| 参数 | 类型 | 默认值 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| type | 'checkbox' \| 'radio' | 'checkbox' | 否 | 选择类型 |
| selectedRowKeys | string[] | - | 否 | 选中行键值 |
| onChange | (selectedRowKeys: string[], selectedRows: T[]) => void | - | 否 | 行选择变化回调 |
| rowExpandable | (record: T) => boolean | - | 否 | 行是否可展开 |
| getCheckboxProps | (record: T) => { disabled?: boolean } | - | 否 | 获取复选框属性 |
| defaultSelectedAll | boolean | false | 否 | 是否默认选中所有行 |
| disabled | boolean | false | 否 | 是否禁用选择 |

### TableExpandable

| 参数 | 类型 | 默认值 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| expandedRowRender | (record: T, index: number) => ReactNode | - | 是 | 展开行渲染 |
| rowExpandable | (record: T) => boolean | - | 否 | 行是否可展开 |
| defaultExpandedRowKeys | string[] | [] | 否 | 默认展开的行键值 |
| expandedRowKeys | string[] | - | 否 | 展开的行键值 |
| onExpand | (expanded: boolean, record: T) => void | - | 否 | 展开变化回调 |
| expandIcon | ReactNode | - | 否 | 展开图标 |
| expandIconPosition | 'left' \| 'right' | 'left' | 否 | 展开图标位置 |

### TablePaginationConfig

| 参数 | 类型 | 默认值 | 必填 | 说明 |
| --- | --- | --- | --- | --- |
| current | number | 1 | 否 | 当前页码 |
| pageSize | number | 10 | 否 | 每页条数 |
| total | number | - | 否 | 总条数 |
| show | boolean | true | 否 | 是否显示分页 |
| position | 'top' \| 'bottom' \| 'both' | 'bottom' | 否 | 分页位置 |
| pageSizeOptions | number[] | [10, 20, 50, 100] | 否 | 分页大小选项 |
| showTotal | boolean | true | 否 | 显示总数 |
| showQuickJumper | boolean | false | 否 | 显示快速跳转 |
| showSizeChanger | boolean | false | 否 | 显示页码选择器 |
| onChange | (current: number, pageSize: number) => void | - | 否 | 页码改变事件 |
| onShowSizeChange | (current: number, pageSize: number) => void | - | 否 | 每页条数改变事件 |

### TableRef

| 方法 | 类型 | 说明 |
| --- | --- | --- |
| element | any \| null | 获取元素引用 |
| getData | () => T[] | 获取当前数据 |
| getSelectedRows | () => T[] | 获取选中行 |
| getSelectedRowKeys | () => string[] | 获取选中行键值 |
| getSortField | () => string | 获取排序字段 |
| getSortOrder | () => TableSortOrder | 获取排序方式 |
| getFilterValues | () => Record<string, any[]> | 获取筛选值 |
| setData | (data: T[]) => void | 设置数据 |
| setSelectedRows | (keys: string[]) => void | 设置选中行 |
| setSort | (field: string, order: TableSortOrder) => void | 设置排序 |
| setFilter | (field: string, values: any[]) => void | 设置筛选 |
| refresh | () => void | 刷新数据 |
| reset | () => void | 重置状态 |
| scrollToRow | (key: string) => void | 滚动到指定行 |

## 使用提示

1. **性能优化**：
   - 对于大量数据，建议使用分页或虚拟列表
   - 使用 `rowKey` 确保行的唯一性，提高渲染性能

2. **自定义渲染**：
   - 使用 `columns[].render` 自定义单元格内容
   - 使用 `expandable.expandedRowRender` 自定义展开内容
   - 使用 `rowRender` 和 `cellRender` 实现更复杂的自定义需求

3. **交互控制**：
   - 通过 `rowSelection` 实现行选择功能
   - 通过 `expandable` 实现行展开功能
   - 通过 `pagination` 实现分页功能

4. **样式定制**：
   - 使用 `size`、`bordered`、`striped`、`hoverable` 等属性快速定制表格样式
   - 使用 `rowStyle`、`rowClassName`、`cellStyle`、`cellClassName` 实现更精细的样式控制

5. **响应式设计**：
   - 使用 `scroll` 属性设置表格的最大宽度和高度，实现响应式滚动
   - 在移动端建议使用较小的 `size`，确保良好的显示效果

## 浏览器兼容性

- 微信小程序：✅ 支持
- 支付宝小程序：✅ 支持
- 百度小程序：✅ 支持
- H5：✅ 支持
- React Native：✅ 支持

## 无障碍支持

- 支持键盘导航
- 支持屏幕阅读器
- 提供适当的 ARIA 属性

## 更新日志

- v0.1.0: 初始版本，支持基本表格功能
- v0.2.0: 新增排序、筛选、分页功能
- v0.3.0: 新增行选择、行展开功能
- v0.4.0: 优化样式和性能，支持更多自定义选项