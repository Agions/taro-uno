# 共享依赖配置
shared-workspace-lockfile=true
link-workspace-packages=true
prefer-workspace-packages=true

# 依赖提升配置 - 优化构建性能和减少重复安装
hoist-pattern[]=*eslint*
hoist-pattern[]=*prettier*
hoist-pattern[]=*typescript*
hoist-pattern[]=*jest*
hoist-pattern[]=*vitest*
hoist-pattern[]=react
hoist-pattern[]=react-dom
hoist-pattern[]=@tarojs/*
hoist-pattern[]=*rollup*
hoist-pattern[]=*babel*
hoist-pattern[]=*postcss*
hoist-pattern[]=*sass*
hoist-pattern[]=*stylelint*

# 公共依赖不提升 - 避免版本冲突
public-hoist-pattern[]=*types*
public-hoist-pattern[]=*config*
public-hoist-pattern[]=@types/*

# 严格依赖模式
strict-peer-dependencies=true

# 自动安装 peerDependencies
auto-install-peers=true

# 优化依赖解析
dedupe-peer-dependents=true

# 忽略构建产物
ignore-build=true
